Алгоритмы и структуры данных

Задача

Необходимо преобразовать собранное на семинаре дерево поиска в полноценное левостороннее красно-чёрное дерево. Реализовать метод добавления новых элементов с балансировкой.

Красно-чёрное дерево имеет следующие критерии:
Каждая нода имеет цвет (красный или черный);
Корень дерева всегда черный;
Новая нода всегда красная;
Красные ноды могут быть только левым дочерним элементом;
У красной ноды все дочерние элементы черного цвета.
Соответственно, чтобы данные условия выполнялись, после добавления элемента в дерево необходимо произвести балансировку, благодаря которой все критерии выше станут валидными. Для балансировки существует 3 операции:

левый малый поворот
правый малый поворот
смена цвета.
Критерии применения этих операций следующие:

Если правый дочерний элемент красный, а левый черный, то применяем малый правый поворот
Если левый дочерний элемент красный и его левый дочерний элемент тоже красный, то применяем малый левый поворот
Если оба дочерних элемента красные, то делаем смену цвета
Если корень стал красным, то перекрашиваем его в черный

```\hs
            value: 1 {color: BLACK}
        value: 2 {color: BLACK}
            value: 3 {color: BLACK}
    value: 4 {color: BLACK}
            value: 5 {color: BLACK}
        value: 6 {color: BLACK}
            value: 7 {color: BLACK}
value: 8 {color: BLACK}
                value: 9 {color: BLACK}
            value: 10 {color: BLACK}
                value: 11 {color: BLACK}
        value: 12 {color: RED}
                value: 13 {color: BLACK}
            value: 14 {color: BLACK}
                value: 15 {color: BLACK}
    value: 16 {color: BLACK}
            value: 17 {color: BLACK}
        value: 18 {color: BLACK}
            value: 19 {color: BLACK}

            
